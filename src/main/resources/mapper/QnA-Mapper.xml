<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="mapper.QnA-Mapper">

<select id="getQnAList" resultType="com.project.travel.vo.QnAVO">
<!-- <![CDATA[[ -->
	select 
	*
	from QnA_Border
	order by 
	QnA_Num DESC
LIMIT #{qnastartList}, 10;
<!-- ]]> -->
</select>
	<select id="getQnAListCnt" resultType="int">
	SELECT
	count(*) as qnalistCnt
	FROM
	QnA_Border
	</select>
	
<!-- insert 쿼리문  -->
<insert id="QnAWrite">
insert into QnA_Border (QnA_Num,QnA_Write,QnA_Subject,QnA_Content,QnA_Views,QnA_Date) 
values(#{QnA_Num},#{QnA_Write},#{QnA_Subject},#{QnA_Content},#{QnA_Views},now());
</insert>
<!-- QnA 내용물 보여주는 쿼리문 -->
<select id="getQnAView" resultType="com.project.travel.vo.QnAVO">
SELECT 	* 
FROM 	QnA_Border 
where 	QnA_Num = #{QnA_Num};
</select>

<!-- QnA조회수 update -->
<update id="viewUpdate">
UPDATE  QnA_Border
SET 	QnA_Views = QnA_Views+1 
WHERE 	QnA_Num   = #{QnA_Num};
</update>

<!-- QnA 수정 쿼리문 -->
<update id="QnAUpdate">
UPDATE QnA_Border 
SET QnA_Subject  = #{QnA_Subject}
,	QnA_Content  = #{QnA_Content}
,	QnA_Date	 = now()
WHERE QnA_Num 	 = #{QnA_Num};
</update>

<!-- QnA 삭제 쿼리문 -->
<delete id="QnADelete">
DELETE 	
FROM 	QnA_Border
WHERE   QnA_Num = #{QnA_Num};
</delete>
</mapper>